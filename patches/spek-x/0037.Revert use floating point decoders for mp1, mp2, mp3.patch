From 55ccb49f4e23566a5ca608968982d03005819e23 Mon Sep 17 00:00:00 2001
From: MikeWang000000 <mikewang000000@gmail.com>
Date: Thu, 26 Jan 2023 12:08:29 +0800
Subject: [PATCH] Revert "use floating point decoders for mp1, mp2, mp3"

This reverts commit 4562e5f5446f27421067ddd64a2159810235dd97.
---
 src/spek-audio.cc | 23 +----------------------
 1 file changed, 1 insertion(+), 22 deletions(-)

diff --git a/src/spek-audio.cc b/src/spek-audio.cc
index 01cccd5..55111f9 100644
--- a/src/spek-audio.cc
+++ b/src/spek-audio.cc
@@ -106,28 +106,7 @@ std::unique_ptr<AudioFile> Audio::open(const std::string& file_name, int stream)
     if (!error) {
         avstream = format_context->streams[audio_stream];
         codecpar = avstream->codecpar;
-
-        switch (codecpar->codec_id) {
-        case AV_CODEC_ID_MP1:
-            codec = avcodec_find_decoder_by_name("mp1float");
-            break;
-        case AV_CODEC_ID_MP2:
-            codec = avcodec_find_decoder_by_name("mp2float");
-            break;
-        case AV_CODEC_ID_MP3:
-            codec = avcodec_find_decoder_by_name("mp3float");
-            break;
-        case AV_CODEC_ID_MP3ADU:
-            codec = avcodec_find_decoder_by_name("mp3adufloat");
-            break;
-        case AV_CODEC_ID_MP3ON4:
-            codec = avcodec_find_decoder_by_name("mp3on4float");
-            break;
-        default:
-            codec = avcodec_find_decoder(codecpar->codec_id);
-            break;
-        }
-
+        codec = avcodec_find_decoder(codecpar->codec_id);
         if (!codec) {
             error = AudioError::NO_DECODER;
         }
